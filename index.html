<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriCV</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P6ZPGS5VKV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P6ZPGS5VKV');
</script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #059669;
            --primary-dark: #047857;
            --primary-light: #34d399;
            --accent: #f59e0b;
            --accent-dark: #d97706;
            --bg-dark: #0a0f0d;
            --bg-card: #111916;
            --bg-input: #1a2420;
            --text-primary: #f0fdf4;
            --text-secondary: #9ca3af;
            --border: #1f3a2f;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .font-display {
            font-family: 'Space Grotesk', 'Tajawal', sans-serif;
        }

        .bg-pattern {
            background-image: 
                radial-gradient(ellipse at 20% 30%, rgba(5, 150, 105, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(245, 158, 11, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, transparent 70%);
        }

        .grid-pattern {
            background-image: 
                linear-gradient(rgba(5, 150, 105, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(5, 150, 105, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .glass {
            background: rgba(17, 25, 22, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(5, 150, 105, 0.2);
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .input-field {
            background: var(--bg-input);
            border: 2px solid var(--border);
            color: var(--text-primary);
            padding: 14px 18px;
            border-radius: 12px;
            width: 100%;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: 'Tajawal', sans-serif;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(5, 150, 105, 0.2);
        }

        .input-field.error {
            border-color: var(--error);
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(5, 150, 105, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            border: 2px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(5, 150, 105, 0.1);
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease forwards;
        }

        .toast-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: 500;
            animation: toastIn 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.success {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .toast.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid var(--error);
            color: var(--error);
        }

        .toast.warning {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid var(--warning);
            color: var(--warning);
        }

        @keyframes toastIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .cv-preview {
            background: white;
            color: #1a1a1a;
            padding: 40px;
            font-family: 'Segoe UI', Tahoma, sans-serif;
        }

        .loader {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .help-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(5, 150, 105, 0.2);
            color: var(--primary);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 1px solid rgba(5, 150, 105, 0.3);
        }

        .help-btn:hover {
            background: var(--primary);
            color: white;
        }

        .help-tooltip {
            position: relative;
        }

        .help-content {
            position: absolute;
            bottom: calc(100% + 10px);
            right: 0;
            background: var(--bg-card);
            border: 1px solid var(--primary);
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 13px;
            width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .help-tooltip.active .help-content {
            opacity: 1;
            visibility: visible;
        }

        .checkbox-custom {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .checkbox-custom input {
            display: none;
        }

        .checkbox-custom .checkmark {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .checkbox-custom input:checked + .checkmark {
            background: var(--primary);
            border-color: var(--primary);
        }

        .checkbox-custom input:checked + .checkmark svg {
            opacity: 1;
        }

        .checkbox-custom .checkmark svg {
            opacity: 0;
            width: 14px;
            height: 14px;
            color: white;
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media (max-width: 768px) {
            .input-field {
                padding: 12px 14px;
                font-size: 14px;
            }

            .btn-primary, .btn-secondary {
                padding: 12px 24px;
                font-size: 14px;
            }

            .card {
                padding: 16px;
            }

            .cv-preview {
                padding: 20px;
            }
        }
    </style>
</head>
<body class="bg-pattern grid-pattern">
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Name Entry Screen -->
    <div id="nameScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-md w-full">
            <div class="text-center mb-8 animate-fadeInUp">
                <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold mb-3 font-display">
                    <span class="text-emerald-400">Agri</span><span class="text-white">CV</span>
                </h1>
                <p class="text-gray-400 text-lg">Ù…Ù†ØµØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</p>
            </div>

            <div class="card animate-fadeInUp" style="animation-delay: 0.2s">
                <h2 class="text-xl font-bold mb-6 text-center">Ù…Ø±Ø­Ø¨Ø§! Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ</h2>
                <form id="nameForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="userName" class="input-field" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ" required>
                        <p class="text-xs text-gray-500 mt-2">Ø³ÙŠÙØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</p>
                    </div>
                    <button type="submit" class="btn-primary w-full">
                        Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†
                        <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l-5 5m0 0l5 5m-5-5h12"></path>
                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="min-h-screen hidden">
        <!-- Navigation -->
        <nav class="glass fixed top-0 left-0 right-0 z-50 px-4 py-3">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <span class="font-bold text-xl font-display"><span class="text-emerald-400">Agri</span>CV</span>
                </div>
                <div class="flex items-center gap-4">
                    <span class="text-gray-400 text-sm hidden md:block" id="welcomeName">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ </span>
                    <button id="profileBtn" class="w-10 h-10 rounded-full bg-emerald-600 flex items-center justify-center font-bold text-white hover:bg-emerald-500 transition-colors">
                        Ù…
                    </button>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="pt-32 pb-20 px-4">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16">
                    <h1 class="text-4xl md:text-6xl font-bold mb-6 font-display animate-fadeInUp">
                        <span id="heroGreeting">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ</span>
                        <br>
                        <span class="text-emerald-400">ØµÙ…Ù… Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ©</span>
                        <br>
                        <span class="text-amber-400">Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©</span>
                    </h1>
                    <p class="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-8 animate-fadeInUp" style="animation-delay: 0.2s">
                        Ù…Ù†ØµØ© Ù…ØªØ®ØµØµØ© Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø·Ù„Ø§Ø¨ ÙˆØ®Ø±ÙŠØ¬ÙŠ ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØªØ¨Ø¹ ATS
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center animate-fadeInUp" style="animation-delay: 0.4s">
                        <button id="createCVBtn" class="btn-primary text-lg px-8 py-4">
                            <svg class="inline-block w-6 h-6 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
                        </button>
                        <button id="myCVsBtn" class="btn-secondary text-lg px-8 py-4">
                            <svg class="inline-block w-6 h-6 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ø°Ø§ØªÙŠØ©
                        </button>
                    </div>
                </div>

                <!-- Features -->
                <div class="grid md:grid-cols-3 gap-6 mb-16">
                    <div class="card text-center animate-fadeInUp" style="animation-delay: 0.3s">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-emerald-500/20 flex items-center justify-center">
                            <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ATS</h3>
                        <p class="text-gray-400">Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© Ø³ØªØªØ¬Ø§ÙˆØ² Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØªØ¨Ø¹ Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
                    </div>
                    <div class="card text-center animate-fadeInUp" style="animation-delay: 0.4s">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-amber-500/20 flex items-center justify-center">
                            <svg class="w-8 h-8 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Ø³Ù‡Ù„ ÙˆØ³Ø±ÙŠØ¹</h3>
                        <p class="text-gray-400">Ø®Ø·ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© Ù…Ø¹ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙÙŠ ÙƒÙ„ Ù…Ø±Ø­Ù„Ø©</p>
                    </div>
                    <div class="card text-center animate-fadeInUp" style="animation-delay: 0.5s">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-blue-500/20 flex items-center justify-center">
                            <svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Ù…Ø­ÙÙˆØ¸ ÙˆØ¢Ù…Ù†</h3>
                        <p class="text-gray-400">Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø­ÙÙˆØ¸Ø© ÙˆÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="aboutSection" class="py-20 px-4 border-t border-gray-800">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4 font-display">Ø¹Ù† Ø§Ù„Ù…Ù†ØµØ©</h2>
                    <div class="w-20 h-1 bg-emerald-500 mx-auto rounded-full"></div>
                </div>
                <div class="max-w-3xl mx-auto text-center">
                    <p class="text-gray-300 text-lg leading-relaxed mb-6">
                        AgriCV Ù‡ÙŠ Ù…Ù†ØµØ© Ù…ØªØ®ØµØµØ© Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø·Ù„Ø§Ø¨ ÙˆØ®Ø±ÙŠØ¬ÙŠ ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø´ÙƒÙ„ Ø³Ù‡Ù„ ÙˆÙ…Ø¨Ø³Ø·. Ù†Ù‚Ø¯Ù… Ù„Ùƒ Ø®Ø·ÙˆØ§Øª ÙˆØ§Ø¶Ø­Ø© Ù…Ø¹ Ù†ØµØ§Ø¦Ø­ ÙˆØ¥Ø±Ø´Ø§Ø¯Ø§Øª ÙÙŠ ÙƒÙ„ Ù…Ø±Ø­Ù„Ø© Ù„Ø¶Ù…Ø§Ù† Ø­ØµÙˆÙ„Ùƒ Ø¹Ù„Ù‰ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© ØªÙ…Ø«Ù„Ùƒ Ø¨Ø£ÙØ¶Ù„ Ø´ÙƒÙ„.
                    </p>
                    <p class="text-gray-400">
                        Ø³ÙˆØ§Ø¡ ÙƒÙ†Øª ØªØ¨Ø­Ø« Ø¹Ù† ØªØ¯Ø±ÙŠØ¨ØŒ ÙˆØ¸ÙŠÙØ© Ø£ÙˆÙ„Ù‰ØŒ Ø£Ùˆ ÙØ±ØµØ© Ø¯Ø±Ø§Ø³ÙŠØ©ØŒ Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ù†ÙØ³Ùƒ Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø£Ù…Ø«Ù„.
                    </p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-gray-800 py-12 px-4">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-700 flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <span class="font-bold text-xl font-display"><span class="text-emerald-400">Agri</span>CV</span>
                    </div>
                    
                    <p class="text-gray-500 text-sm">
                        ØµÙÙ…Ù… Ø¨ÙƒÙ„ Ø­Ø¨ Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹Ø©
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- CV Builder Screen -->
    <div id="builderScreen" class="min-h-screen hidden pb-32">
        <!-- Builder Header -->
        <header class="glass sticky top-0 z-50 px-4 py-3">
            <div class="max-w-5xl mx-auto flex items-center justify-between">
                <button id="backToHome" class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                    Ø±Ø¬ÙˆØ¹
                </button>
                
                <!-- Step Counter -->
                <div class="flex items-center gap-3 bg-gray-800/50 px-4 py-2 rounded-xl">
                    <span class="text-emerald-400 font-bold" id="currentStepNum">1</span>
                    <span class="text-gray-400">/</span>
                    <span class="text-gray-400" id="totalSteps">16</span>
                </div>
                
                <button id="saveDraftBtn" class="text-sm text-emerald-400 hover:text-emerald-300 transition-colors">
                    Ø­ÙØ¸ Ù…Ø³ÙˆØ¯Ø©
                </button>
            </div>
        </header>

        <!-- Step Title -->
        <div class="px-4 py-6 text-center">
            <h2 class="text-xl font-bold" id="stepTitle">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©</h2>
        </div>

        <!-- Step Content -->
        <div class="px-4">
            <div class="max-w-3xl mx-auto" id="stepContent">
                <!-- Step content will be generated by JS -->
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="fixed bottom-0 left-0 right-0 glass p-4">
            <div class="max-w-3xl mx-auto flex gap-4">
                <button id="prevStepBtn" class="btn-secondary flex-1 hidden">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    Ø§Ù„Ø³Ø§Ø¨Ù‚
                </button>
                <button id="nextStepBtn" class="btn-primary flex-1">
                    Ø§Ù„ØªØ§Ù„ÙŠ
                    <svg class="inline-block w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- My CVs Screen -->
    <div id="myCVsScreen" class="min-h-screen hidden">
        <header class="glass sticky top-0 z-50 px-4 py-3">
            <div class="max-w-5xl mx-auto flex items-center justify-between">
                <button id="backFromMyCVs" class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                    Ø±Ø¬ÙˆØ¹
                </button>
                <h1 class="font-bold text-lg font-display">Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ø°Ø§ØªÙŠØ©</h1>
                <div></div>
            </div>
        </header>

        <div class="px-4 py-8">
            <div class="max-w-5xl mx-auto">
                <div id="cvsList" class="grid md:grid-cols-2 gap-6">
                    <!-- CVs will be rendered here -->
                </div>
                <div id="noCVsMessage" class="text-center py-20 hidden">
                    <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gray-800 flex items-center justify-center">
                        <svg class="w-10 h-10 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³ÙŠØ± Ø°Ø§ØªÙŠØ©</h3>
                    <p class="text-gray-400 mb-6">Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø¨Ø¹Ø¯</p>
                    <button id="createFirstCV" class="btn-primary">
                        <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆÙ„ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- CV Preview Modal -->
    <div id="cvPreviewModal" class="modal-overlay">
        <div class="modal-content max-w-4xl">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</h2>
                <button id="closePreviewModal" class="w-10 h-10 rounded-xl bg-gray-800 hover:bg-gray-700 flex items-center justify-center transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-4">
                <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-blue-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div>
                        <p class="text-blue-400 font-bold mb-1">ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ù†Ø³Ø®</p>
                        <p class="text-gray-300 text-sm">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "Ù†Ø³Ø® Ø§Ù„Ù†Øµ" Ø¨Ø§Ù„Ø£Ø³ÙÙ„ØŒ Ø«Ù… Ø§ÙØªØ­ Ø¨Ø±Ù†Ø§Ù…Ø¬ <strong>Microsoft Word</strong> ÙˆØ§Ø¶ØºØ· <strong>Ctrl + V</strong> Ù„Ù„ØµÙ‚.</p>
                    </div>
                </div>
            </div>

            <div id="cvPreviewContent" class="cv-preview rounded-xl overflow-auto max-h-[60vh]">
                <!-- CV preview will be rendered here -->
            </div>
            
            <div class="flex flex-col gap-3 mt-6">
                <button id="copyTextBtn" class="btn-primary w-full text-lg py-4">
                    <svg class="inline-block w-6 h-6 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                    </svg>
                    Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³Ù‚ (Ù„Ù„ØµÙ‚ ÙÙŠ Word)
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal-overlay">
        <div class="modal-content">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
                <button id="closeProfileModal" class="w-10 h-10 rounded-xl bg-gray-800 hover:bg-gray-700 flex items-center justify-center transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Ø§Ù„Ø§Ø³Ù…</label>
                    <input type="text" id="profileName" class="input-field">
                </div>
                <button id="updateProfileBtn" class="btn-primary w-full">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                <hr class="border-gray-700">
                <button id="deleteAccountBtn" class="w-full py-3 px-4 rounded-xl bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors font-medium">
                    Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== Data & State ==========
        const STEPS = [
            { id: 'language', title: 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©' },
            { id: 'personal', title: 'Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©' },
            { id: 'links', title: 'Ø§Ù„Ø±ÙˆØ§Ø¨Ø·' },
            { id: 'location', title: 'Ø§Ù„Ù…ÙˆÙ‚Ø¹' },
            { id: 'summary', title: 'Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠ' },
            { id: 'experience', title: 'Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©' },
            { id: 'education', title: 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…' },
            { id: 'projects', title: 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹' },
            { id: 'volunteering', title: 'Ø§Ù„ØªØ·ÙˆØ¹' },
            { id: 'training', title: 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©' },
            { id: 'courses', title: 'Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª' },
            { id: 'certificates', title: 'Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª' },
            { id: 'skills', title: 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª' },
            { id: 'languages', title: 'Ø§Ù„Ù„ØºØ§Øª' },
            { id: 'interests', title: 'Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª' },
            { id: 'preview', title: 'Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©' }
        ];

        let currentStep = 0;
        let cvData = {
            language: 'ar',
            personal: { fullName: '', email: '', phone: '' },
            links: [],
            location: { country: '', city: '' },
            summary: '',
            experience: [],
            education: { university: '', faculty: 'ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©', month: '', year: '', militaryStatus: '' },
            projects: [],
            volunteering: [],
            training: [],
            courses: [],
            certificates: [],
            skills: [],
            hasLicense: false,
            languages: [{ name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', level: 'native' }],
            interests: []
        };

        let userData = JSON.parse(localStorage.getItem('agriCV_user')) || null;
        let savedCVs = JSON.parse(localStorage.getItem('agriCV_cvs')) || [];
        let editingCVId = null;
        let activeHelpTooltips = new Set();

        // ========== Utility Functions ==========
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    ${type === 'success' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>' :
                      type === 'error' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>' :
                      '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>'}
                </svg>
                ${message}
            `;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 4000);
        }

        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function saveData() {
            localStorage.setItem('agriCV_user', JSON.stringify(userData));
            localStorage.setItem('agriCV_cvs', JSON.stringify(savedCVs));
        }

        function toggleHelp(id) {
            const tooltip = document.getElementById(id);
            if (tooltip) {
                if (activeHelpTooltips.has(id)) {
                    tooltip.classList.remove('active');
                    activeHelpTooltips.delete(id);
                } else {
                    activeHelpTooltips.forEach(tid => {
                        const t = document.getElementById(tid);
                        if (t) t.classList.remove('active');
                    });
                    activeHelpTooltips.clear();
                    
                    tooltip.classList.add('active');
                    activeHelpTooltips.add(id);
                }
            }
        }

        // ========== Screen Management ==========
        function showScreen(screenId) {
            document.querySelectorAll('[id$="Screen"]').forEach(screen => {
                if (screen.id !== 'cvPreviewModal' && screen.id !== 'profileModal') {
                    screen.classList.add('hidden');
                }
            });
            document.getElementById(screenId).classList.remove('hidden');
        }

        // ========== Name Screen ==========
        document.getElementById('nameForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('userName').value.trim();
            if (name.length < 3) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­', 'error');
                return;
            }
            userData = { name: name, createdAt: new Date().toISOString() };
            saveData();
            document.getElementById('welcomeName').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${name}`;
            document.getElementById('heroGreeting').textContent = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ ${name}`;
            document.getElementById('profileBtn').textContent = name.charAt(0);
            showScreen('welcomeScreen');
            showToast(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${name}! Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ AgriCV`, 'success');
        });

        // ========== Welcome Screen ==========
        document.getElementById('createCVBtn').addEventListener('click', function() {
            editingCVId = null;
            resetCVData();
            currentStep = 0;
            showScreen('builderScreen');
            updateStepCounter();
            renderStepContent();
        });

        document.getElementById('myCVsBtn').addEventListener('click', function() {
            renderMyCVs();
            showScreen('myCVsScreen');
        });

        document.getElementById('profileBtn').addEventListener('click', function() {
            document.getElementById('profileName').value = userData?.name || '';
            document.getElementById('profileModal').classList.add('active');
        });

        document.getElementById('closeProfileModal').addEventListener('click', function() {
            document.getElementById('profileModal').classList.remove('active');
        });

        document.getElementById('updateProfileBtn').addEventListener('click', function() {
            const newName = document.getElementById('profileName').value.trim();
            if (newName.length < 3) {
                showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­', 'error');
                return;
            }
            userData.name = newName;
            saveData();
            document.getElementById('welcomeName').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${newName}`;
            document.getElementById('heroGreeting').textContent = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ ${newName}`;
            document.getElementById('profileBtn').textContent = newName.charAt(0);
            document.getElementById('profileModal').classList.remove('active');
            showToast('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­', 'success');
        });

        document.getElementById('deleteAccountBtn').addEventListener('click', function() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ ÙˆØ¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) {
                localStorage.removeItem('agriCV_user');
                localStorage.removeItem('agriCV_cvs');
                userData = null;
                savedCVs = [];
                showScreen('nameScreen');
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        });

        // ========== Builder Screen ==========
        function resetCVData() {
            cvData = {
                language: 'ar',
                personal: { fullName: userData?.name || '', email: '', phone: '' },
                links: [],
                location: { country: '', city: '' },
                summary: '',
                experience: [],
                education: { university: '', faculty: 'ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©', month: '', year: '', militaryStatus: '' },
                projects: [],
                volunteering: [],
                training: [],
                courses: [],
                certificates: [],
                skills: [],
                hasLicense: false,
                languages: [{ name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', level: 'native' }],
                interests: []
            };
        }

        function updateStepCounter() {
            document.getElementById('currentStepNum').textContent = currentStep + 1;
            document.getElementById('totalSteps').textContent = STEPS.length;
            document.getElementById('stepTitle').textContent = STEPS[currentStep].title;
        }

        function renderStepContent() {
            const container = document.getElementById('stepContent');
            const step = STEPS[currentStep];
            
            document.getElementById('prevStepBtn').classList.toggle('hidden', currentStep === 0);
            document.getElementById('nextStepBtn').textContent = currentStep === STEPS.length - 1 ? 'Ø¥Ù†Ù‡Ø§Ø¡' : 'Ø§Ù„ØªØ§Ù„ÙŠ';
            
            let content = '';
            
            switch(step.id) {
                case 'language': content = renderLanguageStep(); break;
                case 'personal': content = renderPersonalStep(); break;
                case 'links': content = renderLinksStep(); break;
                case 'location': content = renderLocationStep(); break;
                case 'summary': content = renderSummaryStep(); break;
                case 'experience': content = renderExperienceStep(); break;
                case 'education': content = renderEducationStep(); break;
                case 'projects': content = renderProjectsStep(); break;
                case 'volunteering': content = renderVolunteeringStep(); break;
                case 'training': content = renderTrainingStep(); break;
                case 'courses': content = renderCoursesStep(); break;
                case 'certificates': content = renderCertificatesStep(); break;
                case 'skills': content = renderSkillsStep(); break;
                case 'languages': content = renderLanguagesStep(); break;
                case 'interests': content = renderInterestsStep(); break;
                case 'preview': content = renderPreviewStep(); break;
            }
            
            container.innerHTML = `<div class="animate-fadeInUp">${content}</div>`;
            attachStepListeners();
        }

        // ========== Step Renderers ==========
        function renderLanguageStep() {
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-emerald-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">Ø§Ø®ØªØ± Ù„ØºØ© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</h2>
                    <p class="text-gray-400">Ø­Ø¯Ø¯ Ø§Ù„Ù„ØºØ© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ù‡Ø§</p>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <label class="card cursor-pointer ${cvData.language === 'ar' ? 'border-emerald-500' : ''}">
                        <input type="radio" name="language" value="ar" class="hidden" ${cvData.language === 'ar' ? 'checked' : ''}>
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ‡¸ğŸ‡¦</div>
                            <h3 class="font-bold text-lg mb-1">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h3>
                            <p class="text-gray-400 text-sm">Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p>
                        </div>
                    </label>
                    <label class="card cursor-pointer ${cvData.language === 'en' ? 'border-emerald-500' : ''}">
                        <input type="radio" name="language" value="en" class="hidden" ${cvData.language === 'en' ? 'checked' : ''}>
                        <div class="text-center">
                            <div class="text-4xl mb-3">ğŸ‡¬ğŸ‡§</div>
                            <h3 class="font-bold text-lg mb-1">English</h3>
                            <p class="text-gray-400 text-sm">CV in English</p>
                        </div>
                    </label>
                </div>
            `;
        }

        function renderPersonalStep() {
            const isEnglish = cvData.language === 'en';
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-blue-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Personal Information' : 'Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©'}</h2>
                </div>
                
                <div class="space-y-5">
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Full Name' : 'Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ'}</label>
                        <input type="text" id="fullName" class="input-field" value="${cvData.personal.fullName}">
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Email' : 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ'}</label>
                        <input type="email" id="email" class="input-field" value="${cvData.personal.email}">
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Phone' : 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ'}</label>
                        <input type="tel" id="phone" class="input-field" value="${cvData.personal.phone}">
                    </div>
                </div>
            `;
        }

        function renderLinksStep() {
            const isEnglish = cvData.language === 'en';
            const linksHtml = cvData.links.map((link, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-sm text-gray-400">${isEnglish ? 'Link' : 'Ø±Ø§Ø¨Ø·'} ${index + 1}</span>
                        <button type="button" onclick="removeLink(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Name' : 'Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·'}</label>
                            <input type="text" class="input-field link-name" value="${link.name}">
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'URL' : 'Ø§Ù„Ø±Ø§Ø¨Ø·'}</label>
                            <input type="url" class="input-field link-url" value="${link.url}">
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-purple-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Important Links' : 'Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ù‡Ù…Ø©'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Add your professional links (optional)' : 'Ø£Ø¶Ù Ø±ÙˆØ§Ø¨Ø·Ùƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)'}</p>
                </div>
                
                <div id="linksContainer">
                    ${linksHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No links added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ§Ø¨Ø· Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addLinkBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Link' : 'Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø·'}
                </button>
            `;
        }

        function renderLocationStep() {
            const isEnglish = cvData.language === 'en';
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-rose-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-rose-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Location' : 'Ø§Ù„Ù…ÙˆÙ‚Ø¹'}</h2>
                </div>
                
                <div class="space-y-5">
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Country' : 'Ø§Ù„Ø¯ÙˆÙ„Ø©'}</label>
                        <input type="text" id="country" class="input-field" value="${cvData.location.country}">
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'City' : 'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©'}</label>
                        <input type="text" id="city" class="input-field" value="${cvData.location.city}">
                    </div>
                </div>
            `;
        }

        function renderSummaryStep() {
            const isEnglish = cvData.language === 'en';
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-cyan-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Professional Summary' : 'Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠ'}</h2>
                </div>
                
                <div>
                    <textarea id="summary" class="input-field min-h-[150px]" placeholder="${isEnglish ? 'Write your professional summary...' : 'Ø§ÙƒØªØ¨ Ù…Ù„Ø®ØµÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠ...'}">${cvData.summary}</textarea>
                    <p class="text-xs text-gray-500 mt-2"><span id="summaryCount">${cvData.summary.length}</span>/500</p>
                </div>
            `;
        }

        function renderExperienceStep() {
            const isEnglish = cvData.language === 'en';
            const experienceHtml = cvData.experience.map((exp, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-emerald-400">${isEnglish ? 'Experience' : 'Ø®Ø¨Ø±Ø©'} ${index + 1}</span>
                        <button type="button" onclick="removeExperience(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Job Title' : 'Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ'}</label>
                                <input type="text" class="input-field exp-title" value="${exp.title}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Company' : 'Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©'}</label>
                                <input type="text" class="input-field exp-company" value="${exp.company}">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Start Date' : 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©'}</label>
                                <input type="month" class="input-field exp-start" value="${exp.startDate}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'End Date' : 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡'}</label>
                                <input type="month" class="input-field exp-end" value="${exp.endDate}" ${exp.currentlyWorking ? 'disabled' : ''}>
                                <label class="checkbox-custom mt-2">
                                    <input type="checkbox" class="exp-current" ${exp.currentlyWorking ? 'checked' : ''} onchange="toggleCurrentlyWorking(${index}, this.checked)">
                                    <span class="checkmark"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></span>
                                    <span class="text-sm text-gray-300">${isEnglish ? 'Currently working' : 'Ù„Ø§ Ø£Ø²Ø§Ù„ Ø£Ø¹Ù…Ù„ Ù‡Ù†Ø§'}</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Description' : 'Ø§Ù„ÙˆØµÙ'}</label>
                            <textarea class="input-field exp-desc min-h-[100px]">${exp.description}</textarea>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-amber-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Work Experience' : 'Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Add your work experience (optional)' : 'Ø£Ø¶Ù Ø®Ø¨Ø±Ø§ØªÙƒ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)'}</p>
                </div>
                
                <div id="experienceContainer">
                    ${experienceHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No experience added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addExperienceBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Experience' : 'Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø©'}
                </button>
            `;
        }

        function renderEducationStep() {
            const isEnglish = cvData.language === 'en';
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-indigo-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M12 14l9-5-9-5-9 5 9 5z"></path>
                            <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Education' : 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…'}</h2>
                </div>
                
                <div class="space-y-5">
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'University Name' : 'Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©'}</label>
                        <input type="text" id="university" class="input-field" value="${cvData.education.university}">
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Faculty' : 'Ø§Ù„ÙƒÙ„ÙŠØ©'}</label>
                        <input type="text" id="faculty" class="input-field" value="${cvData.education.faculty}">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Graduation Month' : 'Ø´Ù‡Ø± Ø§Ù„ØªØ®Ø±Ø¬'}</label>
                            <select id="gradMonth" class="input-field">
                                <option value="">${isEnglish ? 'Select' : 'Ø§Ø®ØªØ±'}</option>
                                ${['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'].map(m => `<option value="${m}" ${cvData.education.month === m ? 'selected' : ''}>${m}</option>`).join('')}
                            </select>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Graduation Year' : 'Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬'}</label>
                            <input type="number" id="gradYear" class="input-field" value="${cvData.education.year}" min="1990" max="2030">
                        </div>
                    </div>
                    <div>
                        <label class="text-sm font-medium text-gray-300 block mb-2">${isEnglish ? 'Military Status' : 'Ø§Ù„Ù…ÙˆÙ‚Ù Ù…Ù† Ø§Ù„ØªØ¬Ù†ÙŠØ¯'}</label>
                        <select id="militaryStatus" class="input-field">
                            <option value="">${isEnglish ? 'Select' : 'Ø§Ø®ØªØ±'}</option>
                            <option value="completed" ${cvData.education.militaryStatus === 'completed' ? 'selected' : ''}>${isEnglish ? 'Completed' : 'Ø£Ø¯ÙŠØª Ø§Ù„Ø®Ø¯Ù…Ø©'}</option>
                            <option value="exempted" ${cvData.education.militaryStatus === 'exempted' ? 'selected' : ''}>${isEnglish ? 'Exempted' : 'Ù…Ø¹Ø§Ù'}</option>
                            <option value="postponed" ${cvData.education.militaryStatus === 'postponed' ? 'selected' : ''}>${isEnglish ? 'Postponed' : 'Ù…Ø¤Ø¬Ù„'}</option>
                            <option value="not_required" ${cvData.education.militaryStatus === 'not_required' ? 'selected' : ''}>${isEnglish ? 'Not required' : 'ØºÙŠØ± Ù…Ø·Ø§Ù„Ø¨'}</option>
                        </select>
                    </div>
                </div>
            `;
        }

        function renderProjectsStep() {
            const isEnglish = cvData.language === 'en';
            const projectsHtml = cvData.projects.map((p, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-violet-400">${isEnglish ? 'Project' : 'Ù…Ø´Ø±ÙˆØ¹'} ${index + 1}</span>
                        <button type="button" onclick="removeProject(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Project Name' : 'Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹'}</label>
                                <input type="text" class="input-field proj-name" value="${p.name}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Date' : 'Ø§Ù„ØªØ§Ø±ÙŠØ®'}</label>
                                <input type="text" class="input-field proj-date" placeholder="${isEnglish ? 'e.g., 2023' : 'Ù…Ø«Ø§Ù„: 2023'}" value="${p.date}">
                            </div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Goal' : 'Ø§Ù„Ù‡Ø¯Ù'}</label>
                            <textarea class="input-field proj-goal min-h-[60px]" placeholder="${isEnglish ? 'What problem were you solving?' : 'Ù…Ø§ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙŠ ÙƒÙ†Øª ØªØ­Ø§ÙˆÙ„ Ø­Ù„Ù‡Ø§ØŸ'}">${p.goal}</textarea>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Your Role' : 'Ø¯ÙˆØ±Ùƒ'}</label>
                            <textarea class="input-field proj-role min-h-[60px]" placeholder="${isEnglish ? 'What did you do?' : 'Ù…Ø§Ø°Ø§ ÙØ¹Ù„Øª Ø¨Ø§Ù„Ø¶Ø¨Ø·ØŸ'}">${p.role}</textarea>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Tools Used' : 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©'}</label>
                            <input type="text" class="input-field proj-tools" placeholder="${isEnglish ? 'Software, equipment, technologies' : 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ØŒ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©ØŒ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª'}" value="${p.tools}">
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Result' : 'Ø§Ù„Ù†ØªÙŠØ¬Ø©'}</label>
                            <textarea class="input-field proj-result min-h-[60px]" placeholder="${isEnglish ? 'What was the outcome?' : 'Ù…Ø§Ø°Ø§ Ø­Ø¯Ø« ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ØŸ'}">${p.result}</textarea>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-violet-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Projects' : 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Add university projects (graduation project, major courses)' : 'Ø£Ø¶Ù Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© (Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ØªØ®Ø±Ø¬ØŒ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯)'}</p>
                </div>
                
                <div class="bg-violet-500/10 border border-violet-500/30 rounded-xl p-4 mb-6">
                    <div class="flex items-start gap-3">
                        <svg class="w-5 h-5 text-violet-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <p class="text-violet-400 font-medium text-sm">${isEnglish ? 'What to include?' : 'Ù…Ø§Ø°Ø§ ØªØªØ¶Ù…Ù†ØŸ'}</p>
                            <p class="text-gray-300 text-sm">${isEnglish ? 'Graduation project, major course projects, research projects' : 'Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ØªØ®Ø±Ø¬ØŒ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¨Ø­Ø«'}</p>
                        </div>
                    </div>
                </div>
                
                <div id="projectsContainer">
                    ${projectsHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No projects added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addProjectBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Project' : 'Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹'}
                </button>
            `;
        }

        function renderVolunteeringStep() {
            const isEnglish = cvData.language === 'en';
            const volunteeringHtml = cvData.volunteering.map((v, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-pink-400">${isEnglish ? 'Volunteering' : 'ØªØ·ÙˆØ¹'} ${index + 1}</span>
                        <button type="button" onclick="removeVolunteering(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Volunteering Name' : 'Ø§Ø³Ù… Ø§Ù„ØªØ·ÙˆØ¹'}</label>
                                <input type="text" class="input-field vol-name" value="${v.name}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Organization' : 'Ø¬Ù‡Ø© Ø§Ù„ØªØ·ÙˆØ¹'}</label>
                                <input type="text" class="input-field vol-org" value="${v.organization}">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Start Date' : 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©'}</label>
                                <input type="month" class="input-field vol-start" value="${v.startDate}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'End Date' : 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©'}</label>
                                <input type="month" class="input-field vol-end" value="${v.endDate}">
                            </div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Tasks & Skills Gained' : 'Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©'}</label>
                            <textarea class="input-field vol-tasks min-h-[100px]" placeholder="${isEnglish ? 'Describe your tasks and skills gained...' : 'ØµÙ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ Ø§ÙƒØªØ³Ø¨ØªÙ‡Ø§...'}">${v.tasks}</textarea>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-pink-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Volunteering' : 'Ø§Ù„ØªØ·ÙˆØ¹'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Add your volunteering experiences (optional)' : 'Ø£Ø¶Ù Ø®Ø¨Ø±Ø§ØªÙƒ Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)'}</p>
                </div>
                
                <div id="volunteeringContainer">
                    ${volunteeringHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No volunteering added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØ·ÙˆØ¹ Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addVolunteeringBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Volunteering' : 'Ø¥Ø¶Ø§ÙØ© ØªØ·ÙˆØ¹'}
                </button>
            `;
        }

        function renderTrainingStep() {
            const isEnglish = cvData.language === 'en';
            const trainingHtml = cvData.training.map((t, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-teal-400">${isEnglish ? 'Training' : 'ØªØ¯Ø±ÙŠØ¨'} ${index + 1}</span>
                        <button type="button" onclick="removeTraining(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Training Name' : 'Ø§Ø³Ù… Ø§Ù„ØªØ¯Ø±ÙŠØ¨'}</label>
                                <input type="text" class="input-field train-name" value="${t.name}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Provider' : 'Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ù†Ø¸Ù…Ø©'}</label>
                                <input type="text" class="input-field train-provider" value="${t.provider}">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Month' : 'Ø§Ù„Ø´Ù‡Ø±'}</label>
                                <select class="input-field train-month">
                                    <option value="">${isEnglish ? 'Select' : 'Ø§Ø®ØªØ±'}</option>
                                    ${['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'].map(m => `<option value="${m}" ${t.month === m ? 'selected' : ''}>${m}</option>`).join('')}
                                </select>
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Year' : 'Ø§Ù„Ø³Ù†Ø©'}</label>
                                <input type="number" class="input-field train-year" value="${t.year}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Duration (hours)' : 'Ø§Ù„Ù…Ø¯Ø© (Ø³Ø§Ø¹Ø§Øª)'}</label>
                                <input type="number" class="input-field train-duration" value="${t.duration}">
                            </div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'What did you learn?' : 'Ù…Ø§Ø°Ø§ ØªØ¹Ù„Ù…ØªØŸ'}</label>
                            <textarea class="input-field train-learned min-h-[80px]">${t.learned}</textarea>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-teal-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Training Programs' : 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©'}</h2>
                </div>
                
                <div id="trainingContainer">
                    ${trainingHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No training added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØ¯Ø±ÙŠØ¨Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addTrainingBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Training' : 'Ø¥Ø¶Ø§ÙØ© ØªØ¯Ø±ÙŠØ¨'}
                </button>
            `;
        }

        function renderCoursesStep() {
            const isEnglish = cvData.language === 'en';
            const coursesHtml = cvData.courses.map((c, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-orange-400">${isEnglish ? 'Course' : 'ÙƒÙˆØ±Ø³'} ${index + 1}</span>
                        <button type="button" onclick="removeCourse(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Course Name' : 'Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ±Ø³'}</label>
                                <input type="text" class="input-field course-name" value="${c.name}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Provider' : 'Ù…Ù‚Ø¯Ù… Ø§Ù„ÙƒÙˆØ±Ø³'}</label>
                                <input type="text" class="input-field course-provider" value="${c.provider}">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Month' : 'Ø§Ù„Ø´Ù‡Ø±'}</label>
                                <select class="input-field course-month">
                                    <option value="">${isEnglish ? 'Select' : 'Ø§Ø®ØªØ±'}</option>
                                    ${['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'].map(m => `<option value="${m}" ${c.month === m ? 'selected' : ''}>${m}</option>`).join('')}
                                </select>
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Year' : 'Ø§Ù„Ø³Ù†Ø©'}</label>
                                <input type="number" class="input-field course-year" value="${c.year}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Duration (hours)' : 'Ø§Ù„Ù…Ø¯Ø©'}</label>
                                <input type="number" class="input-field course-duration" value="${c.duration}">
                            </div>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'What did you learn?' : 'Ù…Ø§Ø°Ø§ ØªØ¹Ù„Ù…ØªØŸ'}</label>
                            <textarea class="input-field course-learned min-h-[80px]">${c.learned}</textarea>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-orange-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Online Courses' : 'Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©'}</h2>
                </div>
                
                <div id="coursesContainer">
                    ${coursesHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No courses added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addCourseBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Course' : 'Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³'}
                </button>
            `;
        }

        function renderCertificatesStep() {
            const isEnglish = cvData.language === 'en';
            const certsHtml = cvData.certificates.map((c, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-yellow-400">${isEnglish ? 'Certificate' : 'Ø´Ù‡Ø§Ø¯Ø©'} ${index + 1}</span>
                        <button type="button" onclick="removeCertificate(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>
                    </div>
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Certificate Name' : 'Ø§Ø³Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©'}</label>
                                <input type="text" class="input-field cert-name" value="${c.name}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Issuing Organization' : 'Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø§Ù†Ø­Ø©'}</label>
                                <input type="text" class="input-field cert-issuer" value="${c.issuer}">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Month' : 'Ø§Ù„Ø´Ù‡Ø±'}</label>
                                <select class="input-field cert-month">
                                    <option value="">${isEnglish ? 'Select' : 'Ø§Ø®ØªØ±'}</option>
                                    ${['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'].map(m => `<option value="${m}" ${c.month === m ? 'selected' : ''}>${m}</option>`).join('')}
                                </select>
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Year' : 'Ø§Ù„Ø³Ù†Ø©'}</label>
                                <input type="number" class="input-field cert-year" value="${c.year}">
                            </div>
                            <div>
                                <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Certificate ID' : 'Ø±Ù‚Ù… Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯'}</label>
                                <input type="text" class="input-field cert-id" value="${c.certificateId || ''}">
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-yellow-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Certificates' : 'Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©'}</h2>
                </div>
                
                <div id="certificatesContainer">
                    ${certsHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No certificates added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø´Ù‡Ø§Ø¯Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addCertificateBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Certificate' : 'Ø¥Ø¶Ø§ÙØ© Ø´Ù‡Ø§Ø¯Ø©'}
                </button>
            `;
        }

        function renderSkillsStep() {
            const isEnglish = cvData.language === 'en';
            const skillsHtml = cvData.skills.map((s, index) => `
                <div class="bg-gray-800/50 rounded-xl p-3 flex items-center justify-between mb-2">
                    <span>${s}</span>
                    <button type="button" onclick="removeSkill(${index})" class="text-red-400 hover:text-red-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `).join('');

            const suggestedSkills = isEnglish ? [
                'Crop Management', 'Soil Analysis', 'Irrigation Systems', 'Pest Control',
                'Plant Pathology', 'Agricultural Research', 'GIS', 'Data Analysis', 
                'Project Management', 'Microsoft Office'
            ] : [
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„', 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ±Ø¨Ø©', 'Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø±ÙŠ', 'Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø¢ÙØ§Øª',
                'ÙˆÙ‚Ø§ÙŠØ© Ù†Ø¨Ø§Øª', 'Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ', 'Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ©', 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 
                'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹', 'Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª Ø£ÙˆÙÙŠØ³'
            ];

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-green-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Skills' : 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª'}</h2>
                </div>
                
                <div class="mb-6">
                    <div class="flex gap-2">
                        <input type="text" id="skillInput" class="input-field flex-1" placeholder="${isEnglish ? 'Enter a skill' : 'Ø£Ø¯Ø®Ù„ Ù…Ù‡Ø§Ø±Ø©'}">
                        <button type="button" id="addSkillBtn" class="btn-primary px-6">${isEnglish ? 'Add' : 'Ø¥Ø¶Ø§ÙØ©'}</button>
                    </div>
                </div>
                
                <div id="skillsContainer" class="mb-6">
                    ${skillsHtml || `<p class="text-gray-500 text-center py-4">${isEnglish ? 'No skills added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <div class="mb-6">
                    <p class="text-sm text-gray-400 mb-3">${isEnglish ? 'Suggested skills:' : 'Ù…Ù‡Ø§Ø±Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©:'}</p>
                    <div class="flex flex-wrap gap-2">
                        ${suggestedSkills.map(skill => `
                            <button type="button" onclick="addSuggestedSkill('${skill}')" class="px-3 py-1.5 rounded-lg bg-gray-800 hover:bg-emerald-600/20 hover:text-emerald-400 text-sm transition-colors ${cvData.skills.includes(skill) ? 'bg-emerald-600/20 text-emerald-400' : ''}">${skill}</button>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-gray-800/30 rounded-xl p-4">
                    <label class="text-sm font-medium text-gray-300 block mb-3">${isEnglish ? 'Do you have a driving license?' : 'Ù‡Ù„ ØªÙ…Ù„Ùƒ Ø±Ø®ØµØ© Ù‚ÙŠØ§Ø¯Ø©ØŸ'}</label>
                    <div class="flex gap-4">
                        <label class="checkbox-custom">
                            <input type="radio" name="hasLicense" value="yes" ${cvData.hasLicense ? 'checked' : ''} onchange="cvData.hasLicense = true;">
                            <span class="checkmark"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></span>
                            <span class="text-sm text-gray-300">${isEnglish ? 'Yes' : 'Ù†Ø¹Ù…'}</span>
                        </label>
                        <label class="checkbox-custom">
                            <input type="radio" name="hasLicense" value="no" ${!cvData.hasLicense ? 'checked' : ''} onchange="cvData.hasLicense = false;">
                            <span class="checkmark"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></span>
                            <span class="text-sm text-gray-300">${isEnglish ? 'No' : 'Ù„Ø§'}</span>
                        </label>
                    </div>
                </div>
            `;
        }

        function renderLanguagesStep() {
            const isEnglish = cvData.language === 'en';
            const levelLabels = {
                'native': isEnglish ? 'Native' : 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù…',
                'fluent': isEnglish ? 'Fluent' : 'Ø·Ù„Ø§Ù‚Ø©',
                'advanced': isEnglish ? 'Advanced' : 'Ù…ØªÙ‚Ø¯Ù…',
                'intermediate': isEnglish ? 'Intermediate' : 'Ù…ØªÙˆØ³Ø·',
                'basic': isEnglish ? 'Basic' : 'Ù…Ø¨ØªØ¯Ø¦'
            };

            const languagesHtml = cvData.languages.map((lang, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-sm font-medium text-sky-400">${isEnglish ? 'Language' : 'Ù„ØºØ©'} ${index + 1}</span>
                        ${index > 0 ? `<button type="button" onclick="removeLanguage(${index})" class="text-red-400 hover:text-red-300 text-sm">${isEnglish ? 'Remove' : 'Ø­Ø°Ù'}</button>` : ''}
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Language Name' : 'Ø§Ø³Ù… Ø§Ù„Ù„ØºØ©'}</label>
                            <input type="text" class="input-field lang-name" value="${lang.name}" ${index === 0 ? 'readonly' : ''}>
                        </div>
                        <div>
                            <label class="text-xs text-gray-400 block mb-2">${isEnglish ? 'Level' : 'Ø§Ù„Ù…Ø³ØªÙˆÙ‰'}</label>
                            <select class="input-field lang-level">
                                <option value="native" ${lang.level === 'native' ? 'selected' : ''}>${levelLabels['native']}</option>
                                <option value="fluent" ${lang.level === 'fluent' ? 'selected' : ''}>${levelLabels['fluent']}</option>
                                <option value="advanced" ${lang.level === 'advanced' ? 'selected' : ''}>${levelLabels['advanced']}</option>
                                <option value="intermediate" ${lang.level === 'intermediate' ? 'selected' : ''}>${levelLabels['intermediate']}</option>
                                <option value="basic" ${lang.level === 'basic' ? 'selected' : ''}>${levelLabels['basic']}</option>
                            </select>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-sky-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-sky-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Languages' : 'Ø§Ù„Ù„ØºØ§Øª'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Add languages you speak' : 'Ø£Ø¶Ù Ø§Ù„Ù„ØºØ§Øª Ø§Ù„ØªÙŠ ØªØªØ­Ø¯Ø«Ù‡Ø§'}</p>
                </div>
                
                <div class="bg-sky-500/10 border border-sky-500/30 rounded-xl p-4 mb-6">
                    <div class="flex items-start gap-3">
                        <svg class="w-5 h-5 text-sky-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <div>
                            <p class="text-sky-400 font-medium text-sm">${isEnglish ? 'Note' : 'Ù…Ù„Ø§Ø­Ø¸Ø©'}</p>
                            <p class="text-gray-300 text-sm">${isEnglish ? 'Arabic is set as your native language by default. You can add more languages below.' : 'ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙƒÙ„ØºØªÙƒ Ø§Ù„Ø£Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù„ØºØ§Øª Ø£Ø®Ø±Ù‰ Ø¨Ø§Ù„Ø£Ø³ÙÙ„.'}</p>
                        </div>
                    </div>
                </div>
                
                <div id="languagesContainer">
                    ${languagesHtml}
                </div>
                
                <button type="button" id="addLanguageBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Language' : 'Ø¥Ø¶Ø§ÙØ© Ù„ØºØ©'}
                </button>
            `;
        }

        function renderInterestsStep() {
            const isEnglish = cvData.language === 'en';
            const interestsHtml = cvData.interests.map((interest, index) => `
                <div class="bg-gray-800/50 rounded-xl p-4 mb-4">
                    <div class="flex justify-between items-center">
                        <div class="flex-1">
                            <input type="text" class="input-field interest-text" value="${interest}">
                        </div>
                        <button type="button" onclick="removeInterest(${index})" class="text-red-400 hover:text-red-300 mr-3">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');

            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-fuchsia-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-fuchsia-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">${isEnglish ? 'Activities & Interests' : 'Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª'}</h2>
                    <p class="text-gray-400">${isEnglish ? 'Share your hobbies and activities (optional)' : 'Ø´Ø§Ø±Ùƒ Ù‡ÙˆØ§ÙŠØ§ØªÙƒ ÙˆØ£Ù†Ø´Ø·ØªÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)'}</p>
                </div>
                
                <div id="interestsContainer">
                    ${interestsHtml || `<p class="text-gray-500 text-center py-8">${isEnglish ? 'No interests added yet' : 'Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø¨Ø¹Ø¯'}</p>`}
                </div>
                
                <button type="button" id="addInterestBtn" class="btn-secondary w-full">
                    <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    ${isEnglish ? 'Add Interest' : 'Ø¥Ø¶Ø§ÙØ© Ø§Ù‡ØªÙ…Ø§Ù…'}
                </button>
            `;
        }

        function renderPreviewStep() {
            return `
                <div class="text-center mb-8">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-emerald-500/20 flex items-center justify-center">
                        <svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold mb-2">ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ©!</h2>
                    <p class="text-gray-400">Ø±Ø§Ø¬Ø¹ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© ÙˆÙ‚Ù… Ø¨Ù†Ø³Ø®Ù‡Ø§</p>
                </div>
                
                <div class="flex flex-col gap-4 mb-6">
                    <button id="previewCVBtn" class="btn-primary w-full">
                        <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                        </svg>
                        Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©
                    </button>
                    <button id="saveCVBtn" class="btn-secondary w-full">
                        <svg class="inline-block w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                        </svg>
                        Ø­ÙØ¸ ÙÙŠ Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ø°Ø§ØªÙŠØ©
                    </button>
                </div>
            `;
        }

        // ========== Helper Functions ==========
        function toggleCurrentlyWorking(index, checked) {
            cvData.experience[index].currentlyWorking = checked;
            const endInput = document.querySelectorAll('.exp-end')[index];
            if (endInput) {
                endInput.disabled = checked;
                if (checked) endInput.value = '';
            }
        }

        // ========== Step Listeners ==========
        function attachStepListeners() {
            // Language step
            document.querySelectorAll('input[name="language"]').forEach(input => {
                input.addEventListener('change', function() {
                    cvData.language = this.value;
                    document.querySelectorAll('input[name="language"]').forEach(i => {
                        i.closest('label').classList.toggle('border-emerald-500', i.checked);
                    });
                });
            });

            // Personal step
            const fullName = document.getElementById('fullName');
            const email = document.getElementById('email');
            const phone = document.getElementById('phone');
            
            if (fullName) fullName.addEventListener('input', e => cvData.personal.fullName = e.target.value);
            if (email) email.addEventListener('input', e => cvData.personal.email = e.target.value);
            if (phone) phone.addEventListener('input', e => cvData.personal.phone = e.target.value);

            // Location step
            const country = document.getElementById('country');
            const city = document.getElementById('city');
            
            if (country) country.addEventListener('input', e => cvData.location.country = e.target.value);
            if (city) city.addEventListener('input', e => cvData.location.city = e.target.value);

            // Summary step
            const summary = document.getElementById('summary');
            if (summary) {
                summary.addEventListener('input', e => {
                    cvData.summary = e.target.value;
                    const count = document.getElementById('summaryCount');
                    if (count) count.textContent = e.target.value.length;
                });
            }

            // Education step
            const university = document.getElementById('university');
            const faculty = document.getElementById('faculty');
            const gradMonth = document.getElementById('gradMonth');
            const gradYear = document.getElementById('gradYear');
            const militaryStatus = document.getElementById('militaryStatus');
            
            if (university) university.addEventListener('input', e => cvData.education.university = e.target.value);
            if (faculty) faculty.addEventListener('input', e => cvData.education.faculty = e.target.value);
            if (gradMonth) gradMonth.addEventListener('change', e => cvData.education.month = e.target.value);
            if (gradYear) gradYear.addEventListener('input', e => cvData.education.year = e.target.value);
            if (militaryStatus) militaryStatus.addEventListener('change', e => cvData.education.militaryStatus = e.target.value);

            // Add buttons with data saving before adding new item
            const addLinkBtn = document.getElementById('addLinkBtn');
            if (addLinkBtn) {
                addLinkBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.links.push({ name: '', url: '' });
                    renderStepContent();
                });
            }

            const addExpBtn = document.getElementById('addExperienceBtn');
            if (addExpBtn) {
                addExpBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.experience.push({ title: '', company: '', startDate: '', endDate: '', description: '', currentlyWorking: false });
                    renderStepContent();
                });
            }

            const addProjectBtn = document.getElementById('addProjectBtn');
            if (addProjectBtn) {
                addProjectBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.projects.push({ name: '', date: '', goal: '', role: '', tools: '', result: '' });
                    renderStepContent();
                });
            }

            const addVolunteeringBtn = document.getElementById('addVolunteeringBtn');
            if (addVolunteeringBtn) {
                addVolunteeringBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.volunteering.push({ name: '', organization: '', startDate: '', endDate: '', tasks: '' });
                    renderStepContent();
                });
            }

            const addTrainBtn = document.getElementById('addTrainingBtn');
            if (addTrainBtn) {
                addTrainBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.training.push({ name: '', provider: '', month: '', year: '', duration: '', learned: '' });
                    renderStepContent();
                });
            }

            const addCourseBtn = document.getElementById('addCourseBtn');
            if (addCourseBtn) {
                addCourseBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.courses.push({ name: '', provider: '', month: '', year: '', duration: '', learned: '' });
                    renderStepContent();
                });
            }

            const addCertBtn = document.getElementById('addCertificateBtn');
            if (addCertBtn) {
                addCertBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.certificates.push({ name: '', issuer: '', month: '', year: '', certificateId: '' });
                    renderStepContent();
                });
            }

            const skillInput = document.getElementById('skillInput');
            const addSkillBtnEl = document.getElementById('addSkillBtn');
            if (addSkillBtnEl && skillInput) {
                addSkillBtnEl.addEventListener('click', () => {
                    const skill = skillInput.value.trim();
                    if (skill && !cvData.skills.includes(skill)) {
                        cvData.skills.push(skill);
                        skillInput.value = '';
                        renderStepContent();
                    }
                });
                skillInput.addEventListener('keypress', e => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        addSkillBtnEl.click();
                    }
                });
            }

            const addLanguageBtn = document.getElementById('addLanguageBtn');
            if (addLanguageBtn) {
                addLanguageBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.languages.push({ name: '', level: 'intermediate' });
                    renderStepContent();
                });
            }

            const addInterestBtn = document.getElementById('addInterestBtn');
            if (addInterestBtn) {
                addInterestBtn.addEventListener('click', () => {
                    saveCurrentStepData();
                    cvData.interests.push('');
                    renderStepContent();
                });
            }

            // Preview step
            const previewBtn = document.getElementById('previewCVBtn');
            const saveBtn = document.getElementById('saveCVBtn');
            
            if (previewBtn) previewBtn.addEventListener('click', showCVPreview);
            if (saveBtn) saveBtn.addEventListener('click', saveCV);
        }

        // ========== Remove Functions ==========
        function removeLink(index) {
            cvData.links.splice(index, 1);
            renderStepContent();
        }

        function removeExperience(index) {
            cvData.experience.splice(index, 1);
            renderStepContent();
        }

        function removeProject(index) {
            cvData.projects.splice(index, 1);
            renderStepContent();
        }

        function removeVolunteering(index) {
            cvData.volunteering.splice(index, 1);
            renderStepContent();
        }

        function removeTraining(index) {
            cvData.training.splice(index, 1);
            renderStepContent();
        }

        function removeCourse(index) {
            cvData.courses.splice(index, 1);
            renderStepContent();
        }

        function removeCertificate(index) {
            cvData.certificates.splice(index, 1);
            renderStepContent();
        }

        function removeSkill(index) {
            cvData.skills.splice(index, 1);
            renderStepContent();
        }

        function removeLanguage(index) {
            cvData.languages.splice(index, 1);
            renderStepContent();
        }

        function removeInterest(index) {
            cvData.interests.splice(index, 1);
            renderStepContent();
        }

        function addSuggestedSkill(skill) {
            if (!cvData.skills.includes(skill)) {
                cvData.skills.push(skill);
                renderStepContent();
            }
        }

        // ========== Navigation ==========
        document.getElementById('prevStepBtn').addEventListener('click', function() {
            if (currentStep > 0) {
                saveCurrentStepData();
                currentStep--;
                updateStepCounter();
                renderStepContent();
            }
        });

        document.getElementById('nextStepBtn').addEventListener('click', function() {
            if (validateCurrentStep()) {
                saveCurrentStepData();
                if (currentStep < STEPS.length - 1) {
                    currentStep++;
                    updateStepCounter();
                    renderStepContent();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    showToast('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                }
            }
        });

        document.getElementById('backToHome').addEventListener('click', function() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø¹ÙˆØ¯Ø©ØŸ Ø³ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©.')) {
                saveCurrentStepData();
                showScreen('welcomeScreen');
            }
        });

        document.getElementById('saveDraftBtn').addEventListener('click', function() {
            saveCurrentStepData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø³ÙˆØ¯Ø©', 'success');
        });

        // ========== Fixed Save Current Step Data ==========
        function saveCurrentStepData() {
            const step = STEPS[currentStep];
            
            switch(step.id) {
                case 'links':
                    cvData.links = [];
                    document.querySelectorAll('#linksContainer > div').forEach(container => {
                        const name = container.querySelector('.link-name');
                        const url = container.querySelector('.link-url');
                        if (name && url && (name.value.trim() || url.value.trim())) {
                            cvData.links.push({
                                name: name.value.trim(),
                                url: url.value.trim()
                            });
                        }
                    });
                    break;
                    
                case 'experience':
                    cvData.experience = [];
                    document.querySelectorAll('#experienceContainer > div').forEach(container => {
                        const title = container.querySelector('.exp-title');
                        if (title) {
                            cvData.experience.push({
                                title: title.value.trim(),
                                company: container.querySelector('.exp-company')?.value.trim() || '',
                                startDate: container.querySelector('.exp-start')?.value || '',
                                endDate: container.querySelector('.exp-end')?.value || '',
                                description: container.querySelector('.exp-desc')?.value.trim() || '',
                                currentlyWorking: container.querySelector('.exp-current')?.checked || false
                            });
                        }
                    });
                    break;

                case 'projects':
                    cvData.projects = [];
                    document.querySelectorAll('#projectsContainer > div').forEach(container => {
                        const name = container.querySelector('.proj-name');
                        if (name && name.value.trim()) {
                            cvData.projects.push({
                                name: name.value.trim(),
                                date: container.querySelector('.proj-date')?.value.trim() || '',
                                goal: container.querySelector('.proj-goal')?.value.trim() || '',
                                role: container.querySelector('.proj-role')?.value.trim() || '',
                                tools: container.querySelector('.proj-tools')?.value.trim() || '',
                                result: container.querySelector('.proj-result')?.value.trim() || ''
                            });
                        }
                    });
                    break;

                case 'volunteering':
                    cvData.volunteering = [];
                    document.querySelectorAll('#volunteeringContainer > div').forEach(container => {
                        const name = container.querySelector('.vol-name');
                        if (name && name.value.trim()) {
                            cvData.volunteering.push({
                                name: name.value.trim(),
                                organization: container.querySelector('.vol-org')?.value.trim() || '',
                                startDate: container.querySelector('.vol-start')?.value || '',
                                endDate: container.querySelector('.vol-end')?.value || '',
                                tasks: container.querySelector('.vol-tasks')?.value.trim() || ''
                            });
                        }
                    });
                    break;
                    
                case 'training':
                    cvData.training = [];
                    document.querySelectorAll('#trainingContainer > div').forEach(container => {
                        const name = container.querySelector('.train-name');
                        if (name && name.value.trim()) {
                            cvData.training.push({
                                name: name.value.trim(),
                                provider: container.querySelector('.train-provider')?.value.trim() || '',
                                month: container.querySelector('.train-month')?.value || '',
                                year: container.querySelector('.train-year')?.value || '',
                                duration: container.querySelector('.train-duration')?.value || '',
                                learned: container.querySelector('.train-learned')?.value.trim() || ''
                            });
                        }
                    });
                    break;
                    
                case 'courses':
                    cvData.courses = [];
                    document.querySelectorAll('#coursesContainer > div').forEach(container => {
                        const name = container.querySelector('.course-name');
                        if (name && name.value.trim()) {
                            cvData.courses.push({
                                name: name.value.trim(),
                                provider: container.querySelector('.course-provider')?.value.trim() || '',
                                month: container.querySelector('.course-month')?.value || '',
                                year: container.querySelector('.course-year')?.value || '',
                                duration: container.querySelector('.course-duration')?.value || '',
                                learned: container.querySelector('.course-learned')?.value.trim() || ''
                            });
                        }
                    });
                    break;
                    
                case 'certificates':
                    cvData.certificates = [];
                    document.querySelectorAll('#certificatesContainer > div').forEach(container => {
                        const name = container.querySelector('.cert-name');
                        if (name && name.value.trim()) {
                            cvData.certificates.push({
                                name: name.value.trim(),
                                issuer: container.querySelector('.cert-issuer')?.value.trim() || '',
                                month: container.querySelector('.cert-month')?.value || '',
                                year: container.querySelector('.cert-year')?.value || '',
                                certificateId: container.querySelector('.cert-id')?.value.trim() || ''
                            });
                        }
                    });
                    break;

                case 'languages':
                    cvData.languages = [];
                    document.querySelectorAll('#languagesContainer > div').forEach(container => {
                        const name = container.querySelector('.lang-name');
                        const level = container.querySelector('.lang-level');
                        if (name && level) {
                            cvData.languages.push({
                                name: name.value.trim(),
                                level: level.value
                            });
                        }
                    });
                    break;
                    
                case 'interests':
                    cvData.interests = [];
                    document.querySelectorAll('.interest-text').forEach(input => {
                        if (input.value.trim()) {
                            cvData.interests.push(input.value.trim());
                        }
                    });
                    break;
            }
        }

        function validateCurrentStep() {
            const step = STEPS[currentStep];
            const isEnglish = cvData.language === 'en';
            
            switch(step.id) {
                case 'personal':
                    const fullName = document.getElementById('fullName');
                    const email = document.getElementById('email');
                    const phone = document.getElementById('phone');
                    
                    if (!fullName.value.trim()) {
                        showToast(isEnglish ? 'Please enter your full name' : 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„', 'error');
                        fullName.classList.add('error');
                        return false;
                    }
                    if (!email.value.trim() || !email.value.includes('@')) {
                        showToast(isEnglish ? 'Please enter a valid email' : 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­', 'error');
                        email.classList.add('error');
                        return false;
                    }
                    if (!phone.value.trim()) {
                        showToast(isEnglish ? 'Please enter your phone number' : 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ', 'error');
                        phone.classList.add('error');
                        return false;
                    }
                    return true;
                    
                case 'education':
                    const university = document.getElementById('university');
                    if (!university.value.trim()) {
                        showToast(isEnglish ? 'Please enter university name' : 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©', 'error');
                        university.classList.add('error');
                        return false;
                    }
                    return true;
                    
                default:
                    return true;
            }
        }

        // ========== CV Preview & Copy ==========
        function generateCVHTML() {
            const isEnglish = cvData.language === 'en';
            const dir = isEnglish ? 'ltr' : 'rtl';
            
            let linksSection = '';
            if (cvData.links.length > 0) {
                linksSection = cvData.links.filter(l => l.name && l.url).map(l => `<a href="${l.url}" style="color: #1a1a1a; text-decoration: none; border-bottom: 1px solid #059669;">${l.name}</a>`).join(' | ');
            }

            let experienceSection = '';
            if (cvData.experience.length > 0) {
                experienceSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'WORK EXPERIENCE' : 'Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©'}</h3>
                        ${cvData.experience.filter(e => e.title).map(exp => `
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <strong style="font-size: 14px;">${exp.title}</strong>
                                    <span style="color: #666; font-size: 13px;">${exp.startDate} - ${exp.currentlyWorking ? (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†') : (exp.endDate || (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†'))}</span>
                                </div>
                                ${exp.company ? `<div style="color: #059669; margin-bottom: 5px; font-size: 13px;">${exp.company}</div>` : ''}
                                ${exp.description ? `<p style="margin: 0; color: #444; font-size: 13px; line-height: 1.6;">${exp.description}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            let projectsSection = '';
            if (cvData.projects.length > 0) {
                projectsSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'PROJECTS' : 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'}</h3>
                        ${cvData.projects.filter(p => p.name).map(p => `
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <strong style="font-size: 14px;">${p.name}</strong>
                                    ${p.date ? `<span style="color: #666; font-size: 13px;">${p.date}</span>` : ''}
                                </div>
                                ${p.goal ? `<p style="margin: 3px 0; color: #444; font-size: 13px;"><strong>${isEnglish ? 'Goal' : 'Ø§Ù„Ù‡Ø¯Ù'}:</strong> ${p.goal}</p>` : ''}
                                ${p.role ? `<p style="margin: 3px 0; color: #444; font-size: 13px;"><strong>${isEnglish ? 'Role' : 'Ø§Ù„Ø¯ÙˆØ±'}:</strong> ${p.role}</p>` : ''}
                                ${p.tools ? `<p style="margin: 3px 0; color: #444; font-size: 13px;"><strong>${isEnglish ? 'Tools' : 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª'}:</strong> ${p.tools}</p>` : ''}
                                ${p.result ? `<p style="margin: 3px 0; color: #444; font-size: 13px;"><strong>${isEnglish ? 'Result' : 'Ø§Ù„Ù†ØªÙŠØ¬Ø©'}:</strong> ${p.result}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            let volunteeringSection = '';
            if (cvData.volunteering.length > 0) {
                volunteeringSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'VOLUNTEERING' : 'Ø§Ù„ØªØ·ÙˆØ¹'}</h3>
                        ${cvData.volunteering.filter(v => v.name).map(v => `
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <strong style="font-size: 14px;">${v.name}</strong>
                                    <span style="color: #666; font-size: 13px;">${v.startDate} - ${v.endDate || (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†')}</span>
                                </div>
                                ${v.organization ? `<div style="color: #059669; margin-bottom: 5px; font-size: 13px;">${v.organization}</div>` : ''}
                                ${v.tasks ? `<p style="margin: 0; color: #444; font-size: 13px; line-height: 1.6;">${v.tasks}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            let trainingSection = '';
            if (cvData.training.length > 0) {
                trainingSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'TRAINING PROGRAMS' : 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©'}</h3>
                        ${cvData.training.filter(t => t.name).map(t => `
                            <div style="margin-bottom: 12px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <strong style="font-size: 14px;">${t.name}</strong>
                                    <span style="color: #666; font-size: 13px;">${t.month}/${t.year}</span>
                                </div>
                                <div style="color: #059669; font-size: 13px;">${t.provider}${t.duration ? ` | ${t.duration} ${isEnglish ? 'hours' : 'Ø³Ø§Ø¹Ø©'}` : ''}</div>
                                ${t.learned ? `<p style="margin: 5px 0 0 0; color: #444; font-size: 13px;">${t.learned}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            let coursesSection = '';
            if (cvData.courses.length > 0) {
                coursesSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'ONLINE COURSES' : 'Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©'}</h3>
                        ${cvData.courses.filter(c => c.name).map(c => `
                            <div style="margin-bottom: 12px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <strong style="font-size: 14px;">${c.name}</strong>
                                    <span style="color: #666; font-size: 13px;">${c.month}/${c.year}</span>
                                </div>
                                <div style="color: #059669; font-size: 13px;">${c.provider}${c.duration ? ` | ${c.duration} ${isEnglish ? 'hours' : 'Ø³Ø§Ø¹Ø©'}` : ''}</div>
                                ${c.learned ? `<p style="margin: 5px 0 0 0; color: #444; font-size: 13px;">${c.learned}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            let certificatesSection = '';
            if (cvData.certificates.length > 0) {
                certificatesSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'CERTIFICATES' : 'Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©'}</h3>
                        ${cvData.certificates.filter(c => c.name).map(c => `
                            <div style="margin-bottom: 10px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <strong style="font-size: 14px;">${c.name}</strong>
                                    <span style="color: #666; font-size: 13px;">${c.month}/${c.year}</span>
                                </div>
                                <div style="color: #059669; font-size: 13px;">${c.issuer}${c.certificateId ? ` | ${isEnglish ? 'ID' : 'Ø±Ù‚Ù…'}: ${c.certificateId}` : ''}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            let skillsSection = '';
            if (cvData.skills.length > 0) {
                skillsSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'SKILLS' : 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª'}</h3>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${cvData.skills.map(s => `<span style="background: #f0f0f0; color: #1a1a1a; padding: 4px 12px; border-radius: 4px; font-size: 13px; border: 1px solid #ddd;">${s}</span>`).join('')}
                        </div>
                        ${cvData.hasLicense ? `<p style="margin-top: 10px; font-size: 13px;"><strong>${isEnglish ? 'Driving License' : 'Ø±Ø®ØµØ© Ù‚ÙŠØ§Ø¯Ø©'}:</strong> ${isEnglish ? 'Yes' : 'Ù†Ø¹Ù…'}</p>` : ''}
                    </div>
                `;
            }

            let languagesSection = '';
            if (cvData.languages.length > 0) {
                const levelLabels = {
                    'native': isEnglish ? 'Native' : 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù…',
                    'fluent': isEnglish ? 'Fluent' : 'Ø·Ù„Ø§Ù‚Ø©',
                    'advanced': isEnglish ? 'Advanced' : 'Ù…ØªÙ‚Ø¯Ù…',
                    'intermediate': isEnglish ? 'Intermediate' : 'Ù…ØªÙˆØ³Ø·',
                    'basic': isEnglish ? 'Basic' : 'Ù…Ø¨ØªØ¯Ø¦'
                };
                languagesSection = `
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'LANGUAGES' : 'Ø§Ù„Ù„ØºØ§Øª'}</h3>
                        ${cvData.languages.filter(l => l.name).map(l => `
                            <div style="margin-bottom: 8px; font-size: 13px;">
                                <strong>${l.name}</strong> - ${levelLabels[l.level] || l.level}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            let interestsSection = '';
            if (cvData.interests.length > 0) {
                const filteredInterests = cvData.interests.filter(i => i.trim());
                if (filteredInterests.length > 0) {
                    interestsSection = `
                        <div style="margin-bottom: 20px;">
                            <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'ACTIVITIES & INTERESTS' : 'Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª'}</h3>
                            <p style="margin: 0; color: #444; font-size: 13px;">${filteredInterests.join(' | ')}</p>
                        </div>
                    `;
                }
            }
            
            const militaryLabels = {
                'completed': isEnglish ? 'Completed' : 'Ø£Ø¯ÙŠØª Ø§Ù„Ø®Ø¯Ù…Ø©',
                'exempted': isEnglish ? 'Exempted' : 'Ù…Ø¹Ø§Ù',
                'postponed': isEnglish ? 'Postponed' : 'Ù…Ø¤Ø¬Ù„',
                'not_required': isEnglish ? 'Not required' : 'ØºÙŠØ± Ù…Ø·Ø§Ù„Ø¨'
            };
            
            return `
                <div dir="${dir}" style="font-family: 'Segoe UI', Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: white; color: #1a1a1a; line-height: 1.6;">
                    <!-- Header -->
                    <div style="text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #059669;">
                        <h1 style="color: #1a1a1a; margin: 0 0 15px 0; font-size: 26px; font-weight: 700;">${cvData.personal.fullName}</h1>
                        <div style="color: #666; margin-bottom: 10px; font-size: 14px;">
                            ${cvData.personal.email} | ${cvData.personal.phone}
                            ${cvData.location.city ? `<br>${cvData.location.city}${cvData.location.country ? `, ${cvData.location.country}` : ''}` : ''}
                        </div>
                        ${linksSection ? `<div style="font-size: 13px; color: #059669;">${linksSection}</div>` : ''}
                    </div>
                    
                    <!-- Summary -->
                    ${cvData.summary ? `
                        <div style="margin-bottom: 20px;">
                            <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'PROFESSIONAL SUMMARY' : 'Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠ'}</h3>
                            <p style="margin: 0; color: #444; font-size: 13px; line-height: 1.8;">${cvData.summary}</p>
                        </div>
                    ` : ''}
                    
                    <!-- Education -->
                    <div style="margin-bottom: 20px;">
                        <h3 style="color: #1a1a1a; border-bottom: 2px solid #059669; padding-bottom: 5px; margin-bottom: 15px; font-size: 16px; font-weight: 700;">${isEnglish ? 'EDUCATION' : 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…'}</h3>
                        <div>
                            <strong style="font-size: 14px;">${cvData.education.faculty || (isEnglish ? 'Faculty of Agriculture' : 'ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©')}</strong>
                            <br>
                            <span style="color: #059669; font-size: 13px;">${cvData.education.university}</span>
                            ${cvData.education.year ? `<br><span style="color: #888; font-size: 13px;">${isEnglish ? 'Graduated' : 'ØªØ®Ø±Ø¬'}: ${cvData.education.month}/${cvData.education.year}</span>` : ''}
                            ${cvData.education.militaryStatus ? `<br><span style="color: #888; font-size: 13px;">${isEnglish ? 'Military Status' : 'Ø§Ù„Ù…ÙˆÙ‚Ù Ù…Ù† Ø§Ù„ØªØ¬Ù†ÙŠØ¯'}: ${militaryLabels[cvData.education.militaryStatus]}</span>` : ''}
                        </div>
                    </div>
                    
                    ${experienceSection}
                    ${projectsSection}
                    ${volunteeringSection}
                    ${trainingSection}
                    ${coursesSection}
                    ${certificatesSection}
                    ${skillsSection}
                    ${languagesSection}
                    ${interestsSection}
                </div>
            `;
        }

        function generatePlainText() {
            const isEnglish = cvData.language === 'en';
            let text = '';
            
            // Header
            text += `${cvData.personal.fullName}\n`;
            text += `${'='.repeat(cvData.personal.fullName.length)}\n\n`;
            text += `${cvData.personal.email} | ${cvData.personal.phone}\n`;
            if (cvData.location.city) {
                text += `${cvData.location.city}${cvData.location.country ? `, ${cvData.location.country}` : ''}\n`;
            }
            if (cvData.links.length > 0) {
                text += cvData.links.filter(l => l.name && l.url).map(l => l.url).join(' | ') + '\n';
            }
            text += '\n';
            
            // Summary
            if (cvData.summary) {
                text += `${isEnglish ? 'PROFESSIONAL SUMMARY' : 'Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠ'}\n`;
                text += '-'.repeat(30) + '\n';
                text += `${cvData.summary}\n\n`;
            }
            
            // Education
            text += `${isEnglish ? 'EDUCATION' : 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…'}\n`;
            text += '-'.repeat(30) + '\n';
            text += `${cvData.education.faculty || (isEnglish ? 'Faculty of Agriculture' : 'ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©')}\n`;
            text += `${cvData.education.university}\n`;
            if (cvData.education.year) {
                text += `${isEnglish ? 'Graduated' : 'ØªØ®Ø±Ø¬'}: ${cvData.education.month}/${cvData.education.year}\n`;
            }
            const militaryLabels = {
                'completed': isEnglish ? 'Completed' : 'Ø£Ø¯ÙŠØª Ø§Ù„Ø®Ø¯Ù…Ø©',
                'exempted': isEnglish ? 'Exempted' : 'Ù…Ø¹Ø§Ù',
                'postponed': isEnglish ? 'Postponed' : 'Ù…Ø¤Ø¬Ù„',
                'not_required': isEnglish ? 'Not required' : 'ØºÙŠØ± Ù…Ø·Ø§Ù„Ø¨'
            };
            if (cvData.education.militaryStatus) {
                text += `${isEnglish ? 'Military Status' : 'Ø§Ù„Ù…ÙˆÙ‚Ù Ù…Ù† Ø§Ù„ØªØ¬Ù†ÙŠØ¯'}: ${militaryLabels[cvData.education.militaryStatus]}\n`;
            }
            text += '\n';
            
            // Experience
            if (cvData.experience.length > 0) {
                text += `${isEnglish ? 'WORK EXPERIENCE' : 'Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.experience.filter(e => e.title).forEach(exp => {
                    text += `â€¢ ${exp.title}`;
                    if (exp.company) text += ` - ${exp.company}`;
                    text += '\n';
                    text += `  ${exp.startDate} - ${exp.currentlyWorking ? (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†') : (exp.endDate || (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†'))}\n`;
                    if (exp.description) text += `  ${exp.description}\n`;
                    text += '\n';
                });
            }

            // Projects
            if (cvData.projects.length > 0) {
                text += `${isEnglish ? 'PROJECTS' : 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.projects.filter(p => p.name).forEach(p => {
                    text += `â€¢ ${p.name}`;
                    if (p.date) text += ` (${p.date})`;
                    text += '\n';
                    if (p.goal) text += `  ${isEnglish ? 'Goal' : 'Ø§Ù„Ù‡Ø¯Ù'}: ${p.goal}\n`;
                    if (p.role) text += `  ${isEnglish ? 'Role' : 'Ø§Ù„Ø¯ÙˆØ±'}: ${p.role}\n`;
                    if (p.tools) text += `  ${isEnglish ? 'Tools' : 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª'}: ${p.tools}\n`;
                    if (p.result) text += `  ${isEnglish ? 'Result' : 'Ø§Ù„Ù†ØªÙŠØ¬Ø©'}: ${p.result}\n`;
                    text += '\n';
                });
            }

            // Volunteering
            if (cvData.volunteering.length > 0) {
                text += `${isEnglish ? 'VOLUNTEERING' : 'Ø§Ù„ØªØ·ÙˆØ¹'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.volunteering.filter(v => v.name).forEach(v => {
                    text += `â€¢ ${v.name}`;
                    if (v.organization) text += ` - ${v.organization}`;
                    text += '\n';
                    text += `  ${v.startDate} - ${v.endDate || (isEnglish ? 'Present' : 'Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†')}\n`;
                    if (v.tasks) text += `  ${v.tasks}\n`;
                    text += '\n';
                });
            }
            
            // Training
            if (cvData.training.length > 0) {
                text += `${isEnglish ? 'TRAINING PROGRAMS' : 'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.training.filter(t => t.name).forEach(t => {
                    text += `â€¢ ${t.name} - ${t.provider} (${t.month}/${t.year})\n`;
                    if (t.learned) text += `  ${t.learned}\n`;
                });
                text += '\n';
            }
            
            // Courses
            if (cvData.courses.length > 0) {
                text += `${isEnglish ? 'ONLINE COURSES' : 'Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.courses.filter(c => c.name).forEach(c => {
                    text += `â€¢ ${c.name} - ${c.provider} (${c.month}/${c.year})\n`;
                    if (c.learned) text += `  ${c.learned}\n`;
                });
                text += '\n';
            }
            
            // Certificates
            if (cvData.certificates.length > 0) {
                text += `${isEnglish ? 'CERTIFICATES' : 'Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©'}\n`;
                text += '-'.repeat(30) + '\n';
                cvData.certificates.filter(c => c.name).forEach(c => {
                    text += `â€¢ ${c.name} - ${c.issuer} (${c.month}/${c.year})`;
                    if (c.certificateId) text += ` [ID: ${c.certificateId}]`;
                    text += '\n';
                });
                text += '\n';
            }
            
            // Skills
            if (cvData.skills.length > 0) {
                text += `${isEnglish ? 'SKILLS' : 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª'}\n`;
                text += '-'.repeat(30) + '\n';
                text += cvData.skills.join(' | ') + '\n';
                if (cvData.hasLicense) {
                    text += `${isEnglish ? 'Driving License' : 'Ø±Ø®ØµØ© Ù‚ÙŠØ§Ø¯Ø©'}: ${isEnglish ? 'Yes' : 'Ù†Ø¹Ù…'}\n`;
                }
                text += '\n';
            }

            // Languages
            if (cvData.languages.length > 0) {
                text += `${isEnglish ? 'LANGUAGES' : 'Ø§Ù„Ù„ØºØ§Øª'}\n`;
                text += '-'.repeat(30) + '\n';
                const levelLabels = {
                    'native': isEnglish ? 'Native' : 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù…',
                    'fluent': isEnglish ? 'Fluent' : 'Ø·Ù„Ø§Ù‚Ø©',
                    'advanced': isEnglish ? 'Advanced' : 'Ù…ØªÙ‚Ø¯Ù…',
                    'intermediate': isEnglish ? 'Intermediate' : 'Ù…ØªÙˆØ³Ø·',
                    'basic': isEnglish ? 'Basic' : 'Ù…Ø¨ØªØ¯Ø¦'
                };
                cvData.languages.filter(l => l.name).forEach(l => {
                    text += `â€¢ ${l.name}: ${levelLabels[l.level] || l.level}\n`;
                });
                text += '\n';
            }
            
            // Interests
            if (cvData.interests.length > 0) {
                const filteredInterests = cvData.interests.filter(i => i.trim());
                if (filteredInterests.length > 0) {
                    text += `${isEnglish ? 'ACTIVITIES & INTERESTS' : 'Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª'}\n`;
                    text += '-'.repeat(30) + '\n';
                    text += filteredInterests.join(' | ') + '\n';
                }
            }
            
            return text;
        }

        function showCVPreview() {
            const previewContent = document.getElementById('cvPreviewContent');
            previewContent.innerHTML = generateCVHTML();
            document.getElementById('cvPreviewModal').classList.add('active');
        }

        document.getElementById('closePreviewModal').addEventListener('click', function() {
            document.getElementById('cvPreviewModal').classList.remove('active');
        });

        document.getElementById('copyTextBtn').addEventListener('click', function() {
            const text = generatePlainText();
            navigator.clipboard.writeText(text).then(() => {
                showToast('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø¨Ù†Ø¬Ø§Ø­! Ø§ÙØªØ­ Word ÙˆØ§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ (Ctrl+V)', 'success');
            }).catch(() => {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ! Ø§ÙØªØ­ Word ÙˆØ§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ', 'success');
            });
        });

        // ========== Save & Manage CVs ==========
        function saveCV() {
            const cv = {
                id: editingCVId || generateId(),
                data: JSON.parse(JSON.stringify(cvData)),
                createdAt: editingCVId ? savedCVs.find(c => c.id === editingCVId)?.createdAt : new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            if (editingCVId) {
                const index = savedCVs.findIndex(c => c.id === editingCVId);
                if (index !== -1) {
                    savedCVs[index] = cv;
                }
            } else {
                savedCVs.push(cv);
            }
            
            saveData();
            showToast('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            
            setTimeout(() => {
                renderMyCVs();
                showScreen('myCVsScreen');
            }, 500);
        }

        function renderMyCVs() {
            const container = document.getElementById('cvsList');
            const noCVsMsg = document.getElementById('noCVsMessage');
            
            savedCVs = JSON.parse(localStorage.getItem('agriCV_cvs')) || [];
            
            if (savedCVs.length === 0) {
                container.innerHTML = '';
                noCVsMsg.classList.remove('hidden');
                return;
            }
            
            noCVsMsg.classList.add('hidden');
            container.innerHTML = savedCVs.map(cv => {
                const isEnglish = cv.data.language === 'en';
                const createdDate = new Date(cv.createdAt).toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                return `
                    <div class="card">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="font-bold text-lg mb-1">${cv.data.personal.fullName || 'Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ©'}</h3>
                                <p class="text-gray-400 text-sm mb-2">${cv.data.education.faculty || 'ÙƒÙ„ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©'}</p>
                                <div class="flex items-center gap-2">
                                    <span class="px-2 py-1 rounded-lg text-xs font-medium ${cv.data.language === 'en' ? 'bg-blue-500/20 text-blue-400' : 'bg-emerald-500/20 text-emerald-400'}">
                                        ${cv.data.language === 'en' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'}
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-gray-500 text-xs mb-4">
                            <p>ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: ${createdDate}</p>
                        </div>
                        
                        <div class="flex gap-2">
                            <button onclick="editCV('${cv.id}')" class="btn-primary flex-1 text-sm py-2.5">ØªØ¹Ø¯ÙŠÙ„</button>
                            <button onclick="viewCV('${cv.id}')" class="btn-secondary flex-1 text-sm py-2.5">Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
                            <button onclick="deleteCV('${cv.id}')" class="px-3 py-2.5 rounded-xl bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors" title="Ø­Ø°Ù">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function editCV(id) {
            const cv = savedCVs.find(c => c.id === id);
            if (cv) {
                editingCVId = id;
                cvData = JSON.parse(JSON.stringify(cv.data));
                currentStep = 0;
                showScreen('builderScreen');
                updateStepCounter();
                renderStepContent();
                showToast('Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„...', 'success');
            }
        }

        function viewCV(id) {
            const cv = savedCVs.find(c => c.id === id);
            if (cv) {
                const tempCVData = cvData;
                cvData = cv.data;
                showCVPreview();
                cvData = tempCVData;
            }
        }

        function deleteCV(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©ØŸ')) {
                savedCVs = savedCVs.filter(c => c.id !== id);
                saveData();
                renderMyCVs();
                showToast('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        }

        // Make functions globally available
        window.editCV = editCV;
        window.viewCV = viewCV;
        window.deleteCV = deleteCV;
        window.toggleCurrentlyWorking = toggleCurrentlyWorking;
        window.removeLink = removeLink;
        window.removeExperience = removeExperience;
        window.removeProject = removeProject;
        window.removeVolunteering = removeVolunteering;
        window.removeTraining = removeTraining;
        window.removeCourse = removeCourse;
        window.removeCertificate = removeCertificate;
        window.removeSkill = removeSkill;
        window.removeLanguage = removeLanguage;
        window.removeInterest = removeInterest;
        window.addSuggestedSkill = addSuggestedSkill;
        window.toggleHelp = toggleHelp;

        // ========== My CVs Screen Navigation ==========
        document.getElementById('backFromMyCVs').addEventListener('click', function() {
            showScreen('welcomeScreen');
        });

        document.getElementById('createFirstCV').addEventListener('click', function() {
            editingCVId = null;
            resetCVData();
            currentStep = 0;
            showScreen('builderScreen');
            updateStepCounter();
            renderStepContent();
        });

        // ========== Initialize App ==========
        function init() {
            savedCVs = JSON.parse(localStorage.getItem('agriCV_cvs')) || [];
            
            if (userData) {
                document.getElementById('welcomeName').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${userData.name}`;
                document.getElementById('heroGreeting').textContent = `Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ ${userData.name}`;
                document.getElementById('profileBtn').textContent = userData.name.charAt(0);
                showScreen('welcomeScreen');
            } else {
                showScreen('nameScreen');
            }
            
            // Close modals on outside click
            document.getElementById('cvPreviewModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
            
            document.getElementById('profileModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.getElementById('cvPreviewModal').classList.remove('active');
                    document.getElementById('profileModal').classList.remove('active');
                }
            });
        }

        init();
    </script>
</body>
</html>
